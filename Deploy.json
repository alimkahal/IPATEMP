{
  "$schema": "https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "Redis_nwlms_name": {
      "defaultValue": "nwlms",
      "type": "String"
    },
    "virtualMachines_IPA_AD_name": {
      "defaultValue": "IPA-AD",
      "type": "String"
    },
    "virtualMachines_IPA_FE_name": {
      "defaultValue": "IPA-FE",
      "type": "String"
    },
    "virtualMachines_IPA_CRM_name": {
      "defaultValue": "IPA-CRM",
      "type": "String"
    },
    "virtualMachines_IPA_SQL_name": {
      "defaultValue": "IPA-SQL",
      "type": "String"
    },
    "virtualMachines_IPA_Worker_name": {
      "defaultValue": "IPA-Worker",
      "type": "String"
    },
    "networkInterfaces_ipa_ad333_name": {
      "defaultValue": "ipa-ad333",
      "type": "String"
    },
    "networkInterfaces_ipa_fe155_name": {
      "defaultValue": "ipa-fe155",
      "type": "String"
    },
    "networkInterfaces_ipa_sql97_name": {
      "defaultValue": "ipa-sql97",
      "type": "String"
    },
    "publicIPAddresses_IPA_FE_ip_name": {
      "defaultValue": "IPA-FE-ip",
      "type": "String"
    },
    "virtualMachines_IPA_Rabbitmq_name": {
      "defaultValue": "IPA-Rabbitmq",
      "type": "String"
    },
    "networkInterfaces_ipa_crm143_name": {
      "defaultValue": "ipa-crm143",
      "type": "String"
    },
    "publicIPAddresses_IPA_CRM_ip_name": {
      "defaultValue": "IPA-CRM-ip",
      "type": "String"
    },
    "networkInterfaces_ipa_worker312_name": {
      "defaultValue": "ipa-worker312",
      "type": "String"
    },
    "networkSecurityGroups_IPA_AD_nsg_name": {
      "defaultValue": "IPA-AD-nsg",
      "type": "String"
    },
    "networkSecurityGroups_IPA_FE_nsg_name": {
      "defaultValue": "IPA-FE-nsg",
      "type": "String"
    },
    "networkInterfaces_ipa_rabbitmq135_name": {
      "defaultValue": "ipa-rabbitmq135",
      "type": "String"
    },
    "networkSecurityGroups_IPA_CRM_nsg_name": {
      "defaultValue": "IPA-CRM-nsg",
      "type": "String"
    },
    "networkSecurityGroups_IPA_SQL_nsg_name": {
      "defaultValue": "IPA-SQL-nsg",
      "type": "String"
    },
    "networkSecurityGroups_IPA_Worker_nsg_name": {
      "defaultValue": "IPA-Worker-nsg",
      "type": "String"
    },
    "networkSecurityGroups_IPA_Rabbitmq_nsg_name": {
      "defaultValue": "IPA-Rabbitmq-nsg",
      "type": "String"
    },
    "storageAccounts_automateddeploymentforle_name": {
      "defaultValue": "automateddeploymentforle",
      "type": "String"
    },
    "storageAccounts_automateddeploymentfo573_name": {
      "defaultValue": "automateddeploymentfo573",
      "type": "String"
    },
    "securityRules_RDP_name": {
      "defaultValue": "RDP",
      "type": "String"
    },
    "securityRules_RDP_name_1": {
      "defaultValue": "RDP",
      "type": "String"
    },
    "securityRules_SSH_name": {
      "defaultValue": "SSH",
      "type": "String"
    },
    "securityRules_HTTP_name": {
      "defaultValue": "HTTP",
      "type": "String"
    },
    "securityRules_HTTPS_name": {
      "defaultValue": "HTTPS",
      "type": "String"
    },
    "securityRules_SSH_name_1": {
      "defaultValue": "SSH",
      "type": "String"
    },
    "securityRules_RDP_name_2": {
      "defaultValue": "RDP",
      "type": "String"
    },
    "securityRules_HTTP_name_1": {
      "defaultValue": "HTTP",
      "type": "String"
    },
    "securityRules_HTTPS_name_1": {
      "defaultValue": "HTTPS",
      "type": "String"
    },
    "virtualNetworks_Template-deployment_vnet_name": {
      "defaultValue": "Template-deployment-vnet",
      "type": "String"
    },
    "securityRules_Allow_Internal_traffic_name": {
      "defaultValue": "Allow-Internal-traffic",
      "type": "String"
    },
    "subnets_default_name": {
      "defaultValue": "default",
      "type": "String"
    },
    "virtualMachines_IPA_AD_id": {
      "defaultValue": "/subscriptions/f80b30d3-3950-4d84-b538-e11cc2ade32c/resourceGroups/DC-temp/providers/Microsoft.Compute/disks/IPA-AD_OsDisk_1_caa7861ace034d9abee87116496096f0",
      "type": "String"
    },
    "virtualMachines_IPA_AD_id_1": {
      "defaultValue": "/subscriptions/f80b30d3-3950-4d84-b538-e11cc2ade32c/resourceGroups/DC-temp/providers/Microsoft.Compute/disks/IPA-AD_DataDisk_0",
      "type": "String"
    },
    "virtualMachines_IPA_CRM_id": {
      "defaultValue": "/subscriptions/f80b30d3-3950-4d84-b538-e11cc2ade32c/resourceGroups/DC-temp/providers/Microsoft.Compute/disks/IPA-CRM_OsDisk_1_4481debcec6b4f32ba2cbb8b6b65ba78",
      "type": "String"
    },
    "virtualMachines_IPA_FE_id": {
      "defaultValue": "/subscriptions/f80b30d3-3950-4d84-b538-e11cc2ade32c/resourceGroups/DC-temp/providers/Microsoft.Compute/disks/IPA-FE_OsDisk_1_46cecd1f1b604602a58913446f1568a9",
      "type": "String"
    },
    "virtualMachines_IPA_FE_id_1": {
      "defaultValue": "/subscriptions/f80b30d3-3950-4d84-b538-e11cc2ade32c/resourceGroups/DC-temp/providers/Microsoft.Compute/disks/IPA-FE_DataDisk_0",
      "type": "String"
    },
    "virtualMachines_IPA_Rabbitmq_id": {
      "defaultValue": "/subscriptions/f80b30d3-3950-4d84-b538-e11cc2ade32c/resourceGroups/DC-temp/providers/Microsoft.Compute/disks/IPA-Rabbitmq_OsDisk_1_a358e6b93da3428b8c71b588ea645a53",
      "type": "String"
    },
    "virtualMachines_IPA_SQL_id": {
      "defaultValue": "/subscriptions/f80b30d3-3950-4d84-b538-e11cc2ade32c/resourceGroups/DC-temp/providers/Microsoft.Compute/disks/IPA-SQL_OsDisk_1_ffc4b82ee3904aa7bd3383da95f1fcdc",
      "type": "String"
    },
    "virtualMachines_IPA_SQL_id_1": {
      "defaultValue": "/subscriptions/f80b30d3-3950-4d84-b538-e11cc2ade32c/resourceGroups/DC-temp/providers/Microsoft.Compute/disks/IPA-SQL_disk2_2d7317fa937f41198a508fad3226a18a",
      "type": "String"
    },
    "virtualMachines_IPA_Worker_id": {
      "defaultValue": "/subscriptions/f80b30d3-3950-4d84-b538-e11cc2ade32c/resourceGroups/DC-temp/providers/Microsoft.Compute/disks/IPA-Worker_OsDisk_1_99d214cf4a3a485c88409d9ecd785b0c

",
      "type": "String"
    }
  },
  "variables": {},
  "resources": [
    {
      "type": "Microsoft.Compute/virtualMachines",
      "name": "[parameters('virtualMachines_IPA_AD_name')]",
      "apiVersion": "2018-10-01",
      "location": "westeurope",
      "tags": {},
      "properties": {
        "hardwareProfile": {
          "vmSize": "Standard_DS1_v2"
        },
        "storageProfile": {
          "osDisk": {
            "osType": "Windows",
            "name": "IPA-AD_OsDisk_1_caa7861ace034d9abee87116496096f0",
            "createOption": "Attach",
            "caching": "ReadWrite",
            "managedDisk": {
              "storageAccountType": "Standard_LRS",
              "id": "[parameters('virtualMachines_IPA_AD_id')]"
            }
          },
          "dataDisks": [
            {
              "lun": 0,
              "name": "IPA-AD_DataDisk_0",
              "createOption": "Attach",
              "caching": "ReadWrite",
              "writeAcceleratorEnabled": false,
              "managedDisk": {
                "storageAccountType": "Standard_LRS",
                "id": "[parameters('virtualMachines_IPA_AD_id_1')]"
              }
            }
          ]
        },
        "networkProfile": {
          "networkInterfaces": [
            {
              "id": "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_ipa_ad333_name'))]"
            }
          ]
        },
        "diagnosticsProfile": {
          "bootDiagnostics": {
            "enabled": true,
            "storageUri": "[concat('https', '://', parameters('storageAccounts_automateddeploymentforle_name'), '.blob.core.windows.net', '/')]"
          }
        }
      },
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_ipa_ad333_name'))]",
        "[resourceId('Microsoft.Storage/storageAccounts', parameters('storageAccounts_automateddeploymentforle_name'))]"
      ]
    },
    {
      "type": "Microsoft.Compute/virtualMachines",
      "name": "[parameters('virtualMachines_IPA_CRM_name')]",
      "apiVersion": "2018-10-01",
      "location": "westeurope",
      "tags": {},
      "properties": {
        "hardwareProfile": {
          "vmSize": "Standard_D2s_v3"
        },
        "storageProfile": {
          "osDisk": {
            "osType": "Windows",
            "name": "IPA-CRM_OsDisk_1_4481debcec6b4f32ba2cbb8b6b65ba78",
            "createOption": "Attach",
            "caching": "ReadWrite",
            "managedDisk": {
              "storageAccountType": "Premium_LRS",
              "id": "[parameters('virtualMachines_IPA_CRM_id')]"
            }
          },
          "dataDisks": []
        },
        "networkProfile": {
          "networkInterfaces": [
            {
              "id": "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_ipa_crm143_name'))]"
            }
          ]
        },
        "diagnosticsProfile": {
          "bootDiagnostics": {
            "enabled": true,
            "storageUri": "[concat('https', '://', parameters('storageAccounts_automateddeploymentforle_name'), '.blob.core.windows.net', '/')]"
          }
        }
      },
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_ipa_crm143_name'))]",
        "[resourceId('Microsoft.Storage/storageAccounts', parameters('storageAccounts_automateddeploymentforle_name'))]"
      ]
    },
    {
      "type": "Microsoft.Compute/virtualMachines",
      "name": "[parameters('virtualMachines_IPA_FE_name')]",
      "apiVersion": "2018-10-01",
      "location": "westeurope",
      "tags": {},
      "properties": {
        "hardwareProfile": {
          "vmSize": "Standard_D2s_v3"
        },
        "storageProfile": {
          "osDisk": {
            "osType": "Windows",
            "name": "IPA-FE_OsDisk_1_46cecd1f1b604602a58913446f1568a9",
            "createOption": "Attach",
            "caching": "ReadWrite",
            "managedDisk": {
              "storageAccountType": "StandardSSD_LRS",
              "id": "[parameters('virtualMachines_IPA_FE_id')]"
            }
          },
          "dataDisks": [
            {
              "lun": 0,
              "name": "IPA-FE_DataDisk_0",
              "createOption": "Attach",
              "caching": "ReadWrite",
              "writeAcceleratorEnabled": false,
              "managedDisk": {
                "storageAccountType": "StandardSSD_LRS",
                "id": "[parameters('virtualMachines_IPA_FE_id_1')]"
              }
            }
          ]
        },
        "networkProfile": {
          "networkInterfaces": [
            {
              "id": "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_ipa_fe155_name'))]"
            }
          ]
        },
        "diagnosticsProfile": {
          "bootDiagnostics": {
            "enabled": true,
            "storageUri": "[concat('https', '://', parameters('storageAccounts_automateddeploymentforle_name'), '.blob.core.windows.net', '/')]"
          }
        }
      },
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_ipa_fe155_name'))]",
        "[resourceId('Microsoft.Storage/storageAccounts', parameters('storageAccounts_automateddeploymentforle_name'))]"
      ]
    },
    {
      "type": "Microsoft.Compute/virtualMachines",
      "name": "[parameters('virtualMachines_IPA_Rabbitmq_name')]",
      "apiVersion": "2018-10-01",
      "location": "westeurope",
      "tags": {},
      "properties": {
        "hardwareProfile": {
          "vmSize": "Standard_DS1_v2"
        },
        "storageProfile": {
          "osDisk": {
            "osType": "Windows",
            "name": "IPA-Rabbitmq_OsDisk_1_a358e6b93da3428b8c71b588ea645a53",
            "createOption": "Attach",
            "caching": "ReadWrite",
            "managedDisk": {
              "storageAccountType": "Premium_LRS",
              "id": "[parameters('virtualMachines_IPA_Rabbitmq_id')]"
            }
          },
          "dataDisks": []
        },
        "networkProfile": {
          "networkInterfaces": [
            {
              "id": "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_ipa_rabbitmq135_name'))]"
            }
          ]
        },
        "diagnosticsProfile": {
          "bootDiagnostics": {
            "enabled": true,
            "storageUri": "[concat('https', '://', parameters('storageAccounts_automateddeploymentfo573_name'), '.blob.core.windows.net', '/')]"
          }
        }
      },
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_ipa_rabbitmq135_name'))]",
        "[resourceId('Microsoft.Storage/storageAccounts', parameters('storageAccounts_automateddeploymentfo573_name'))]"
      ]
    },
    {
      "type": "Microsoft.Compute/virtualMachines",
      "name": "[parameters('virtualMachines_IPA_SQL_name')]",
      "apiVersion": "2018-10-01",
      "location": "westeurope",
      "properties": {
        "hardwareProfile": {
          "vmSize": "Standard_D2s_v3"
        },
        "storageProfile": {
          "osDisk": {
            "osType": "Windows",
            "name": "IPA-SQL_OsDisk_1_ffc4b82ee3904aa7bd3383da95f1fcdc",
            "createOption": "Attach",
            "caching": "ReadWrite",
            "managedDisk": {
              "storageAccountType": "Premium_LRS",
              "id": "[parameters('virtualMachines_IPA_SQL_id')]"
            }
          },
          "dataDisks": [
            {
              "lun": 0,
              "name": "IPA-SQL_disk2_2d7317fa937f41198a508fad3226a18a",
              "createOption": "Attach",
              "caching": "ReadOnly",
              "managedDisk": {
                "storageAccountType": "Premium_LRS",
                "id": "[parameters('virtualMachines_IPA_SQL_id_1')]"
              }
            }
          ]
        },
        "networkProfile": {
          "networkInterfaces": [
            {
              "id": "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_ipa_sql97_name'))]"
            }
          ]
        },
        "diagnosticsProfile": {
          "bootDiagnostics": {
            "enabled": true,
            "storageUri": "[concat('https', '://', parameters('storageAccounts_automateddeploymentfo573_name'), '.blob.core.windows.net', '/')]"
          }
        }
      },
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_ipa_sql97_name'))]",
        "[resourceId('Microsoft.Storage/storageAccounts', parameters('storageAccounts_automateddeploymentfo573_name'))]"
      ]
    },
    {
      "type": "Microsoft.Compute/virtualMachines",
      "name": "[parameters('virtualMachines_IPA_Worker_name')]",
      "apiVersion": "2018-10-01",
      "location": "westeurope",
      "tags": {},
      "properties": {
        "hardwareProfile": {
          "vmSize": "Standard_D2s_v3"
        },
        "storageProfile": {
          "osDisk": {
            "osType": "Windows",
            "name": "IPA-Worker_OsDisk_1_99d214cf4a3a485c88409d9ecd785b0c",
            "createOption": "Attach",
            "caching": "ReadWrite",
            "managedDisk": {
              "storageAccountType": "Premium_LRS",
              "id": "[parameters('virtualMachines_IPA_Worker_id')]"
            }
          },
          "dataDisks": []
        },
        "networkProfile": {
          "networkInterfaces": [
            {
              "id": "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_ipa_worker312_name'))]"
            }
          ]
        },
        "diagnosticsProfile": {
          "bootDiagnostics": {
            "enabled": true,
            "storageUri": "[concat('https', '://', parameters('storageAccounts_automateddeploymentforle_name'), '.blob.core.windows.net', '/')]"
          }
        }
      },
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_ipa_worker312_name'))]",
        "[resourceId('Microsoft.Storage/storageAccounts', parameters('storageAccounts_automateddeploymentforle_name'))]"
      ]
    },
    {
      "type": "Microsoft.Network/networkInterfaces",
      "name": "[parameters('networkInterfaces_ipa_ad333_name')]",
      "apiVersion": "2018-12-01",
      "location": "westeurope",
      "tags": {},
      "properties": {
        "provisioningState": "Succeeded",
        "resourceGuid": "ef29bd02-690c-4e44-b6e5-75b2fbafdec5",
        "ipConfigurations": [
          {
            "name": "ipconfig1",
            "etag": "W/\"e4666984-8827-4974-8f61-61b8975e9c34\"",
            "properties": {
              "provisioningState": "Succeeded",
              "privateIPAddress": "10.0.0.7",
              "privateIPAllocationMethod": "Dynamic",
              "subnet": {
                "id": "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_Template-deployment_vnet_name'), parameters('subnets_default_name'))]"
              },
              "primary": true,
              "privateIPAddressVersion": "IPv4"
            }
          }
        ],
        "dnsSettings": {
          "dnsServers": [],
          "appliedDnsServers": [],
          "internalDomainNameSuffix": "ntcl2hkhih5uhgos42iz3us1wh.ax.internal.cloudapp.net"
        },
        "macAddress": "00-0D-3A-2C-94-7A",
        "enableAcceleratedNetworking": false,
        "enableIPForwarding": false,
        "networkSecurityGroup": {
          "id": "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_IPA_AD_nsg_name'))]"
        },
        "primary": true,
        "tapConfigurations": []
      },
      "dependsOn": [
        "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_Template-deployment_vnet_name'), parameters('subnets_default_name'))]",
        "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_IPA_AD_nsg_name'))]"
      ]
    },
    {
      "apiVersion": "2018-12-01",
      "dependsOn": [
        "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_Template-deployment_vnet_name'), parameters('subnets_default_name'))]",
        "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_IPA_CRM_nsg_name'))]"
      ],
      "location": "westeurope",
      "name": "[parameters('networkInterfaces_ipa_crm143_name')]",
      "properties": {
        "provisioningState": "Succeeded",
        "resourceGuid": "64de909f-d395-49a7-b75c-a66faef0b27d",
        "ipConfigurations": [
          {
            "name": "ipconfig1",
            "etag": "W/\"12e12f18-969e-426d-ab25-f4d9e88dad11\"",
            "properties": {
              "provisioningState": "Succeeded",
              "privateIPAddress": "10.0.0.6",
              "privateIPAllocationMethod": "Dynamic",
              "subnet": {
                "id": "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_Template-deployment_vnet_name'), parameters('subnets_default_name'))]"
              },
              "primary": true,
              "privateIPAddressVersion": "IPv4"
            }
          }
        ],
        "dnsSettings": {
          "dnsServers": [
            "10.0.0.7"
          ],
          "appliedDnsServers": [
            "10.0.0.7"
          ],
          "internalDomainNameSuffix": "ntcl2hkhih5uhgos42iz3us1wh.ax.internal.cloudapp.net"
        },
        "macAddress": "00-0D-3A-28-57-25",
        "enableAcceleratedNetworking": false,
        "enableIPForwarding": false,
        "networkSecurityGroup": {
          "id": "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_IPA_CRM_nsg_name'))]"
        },
        "primary": true,
        "tapConfigurations": []
      },
      "tags": {},
      "type": "Microsoft.Network/networkInterfaces"
    },
    {
      "type": "Microsoft.Network/networkInterfaces",
      "name": "[parameters('networkInterfaces_ipa_fe155_name')]",
      "apiVersion": "2018-12-01",
      "location": "westeurope",
      "tags": {},
      "properties": {
        "provisioningState": "Succeeded",
        "resourceGuid": "cd8fbc47-d5cb-4f8e-b041-4382db0816f1",
        "ipConfigurations": [
          {
            "name": "ipconfig1",
            "etag": "W/\"c5ddf557-89cc-4a39-ade4-feed6fbd32e4\"",
            "properties": {
              "provisioningState": "Succeeded",
              "privateIPAddress": "10.0.0.4",
              "privateIPAllocationMethod": "Dynamic",
              "publicIPAddress": {
                "id": "[resourceId('Microsoft.Network/publicIPAddresses', parameters('publicIPAddresses_IPA_FE_ip_name'))]"
              },
              "subnet": {
                "id": "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_Template-deployment_vnet_name'), parameters('subnets_default_name'))]"
              },
              "primary": true,
              "privateIPAddressVersion": "IPv4"
            }
          }
        ],
        "dnsSettings": {
          "dnsServers": [
            "10.0.0.7"
          ],
          "appliedDnsServers": [
            "10.0.0.7"
          ],
          "internalDomainNameSuffix": "ntcl2hkhih5uhgos42iz3us1wh.ax.internal.cloudapp.net"
        },
        "macAddress": "00-0D-3A-2B-F3-EA",
        "enableAcceleratedNetworking": false,
        "enableIPForwarding": false,
        "networkSecurityGroup": {
          "id": "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_IPA_FE_nsg_name'))]"
        },
        "primary": true,
        "tapConfigurations": []
      },
      "dependsOn": [
        "[resourceId('Microsoft.Network/publicIPAddresses', parameters('publicIPAddresses_IPA_FE_ip_name'))]",
        "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_Template-deployment_vnet_name'), parameters('subnets_default_name'))]",
        "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_IPA_FE_nsg_name'))]"
      ]
    },
    {
      "type": "Microsoft.Network/networkInterfaces",
      "name": "[parameters('networkInterfaces_ipa_rabbitmq135_name')]",
      "apiVersion": "2018-12-01",
      "location": "westeurope",
      "tags": {},
      "properties": {
        "provisioningState": "Succeeded",
        "resourceGuid": "f9f1d66e-7fb0-47f8-b19d-ad47eeaa0144",
        "ipConfigurations": [
          {
            "name": "ipconfig1",
            "etag": "W/\"2ae7d56f-797b-4ccb-bab2-7638f2b7648f\"",
            "properties": {
              "provisioningState": "Succeeded",
              "privateIPAddress": "10.0.0.9",
              "privateIPAllocationMethod": "Dynamic",
              "subnet": {
                "id": "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_Template-deployment_vnet_name'), parameters('subnets_default_name'))]"
              },
              "primary": true,
              "privateIPAddressVersion": "IPv4"
            }
          }
        ],
        "dnsSettings": {
          "dnsServers": [],
          "appliedDnsServers": [],
          "internalDomainNameSuffix": "ntcl2hkhih5uhgos42iz3us1wh.ax.internal.cloudapp.net"
        },
        "macAddress": "00-0D-3A-25-FF-97",
        "enableAcceleratedNetworking": false,
        "enableIPForwarding": false,
        "networkSecurityGroup": {
          "id": "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_IPA_Rabbitmq_nsg_name'))]"
        },
        "primary": true,
        "tapConfigurations": []
      },
      "dependsOn": [
        "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_Template-deployment_vnet_name'), parameters('subnets_default_name'))]",
        "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_IPA_Rabbitmq_nsg_name'))]"
      ]
    },
    {
      "type": "Microsoft.Network/networkInterfaces",
      "name": "[parameters('networkInterfaces_ipa_sql97_name')]",
      "apiVersion": "2018-12-01",
      "location": "westeurope",
      "properties": {
        "provisioningState": "Succeeded",
        "resourceGuid": "5f16d005-291a-4cf3-9d2d-a3864bae2534",
        "ipConfigurations": [
          {
            "name": "ipconfig1",
            "etag": "W/\"cf36dd6d-34c7-40e3-955a-708be607e360\"",
            "properties": {
              "provisioningState": "Succeeded",
              "privateIPAddress": "10.0.0.8",
              "privateIPAllocationMethod": "Dynamic",
              "subnet": {
                "id": "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_Template-deployment_vnet_name'), parameters('subnets_default_name'))]"
              },
              "primary": true,
              "privateIPAddressVersion": "IPv4"
            }
          }
        ],
        "dnsSettings": {
          "dnsServers": [
            "10.0.0.7"
          ],
          "appliedDnsServers": [
            "10.0.0.7"
          ],
          "internalDomainNameSuffix": "ntcl2hkhih5uhgos42iz3us1wh.ax.internal.cloudapp.net"
        },
        "macAddress": "00-0D-3A-24-D1-0F",
        "enableAcceleratedNetworking": false,
        "enableIPForwarding": false,
        "networkSecurityGroup": {
          "id": "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_IPA_SQL_nsg_name'))]"
        },
        "primary": true,
        "tapConfigurations": []
      },
      "dependsOn": [
        "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_Template-deployment_vnet_name'), parameters('subnets_default_name'))]",
        "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_IPA_SQL_nsg_name'))]"
      ]
    },
    {
      "type": "Microsoft.Network/networkInterfaces",
      "name": "[parameters('networkInterfaces_ipa_worker312_name')]",
      "apiVersion": "2018-12-01",
      "location": "westeurope",
      "tags": {},
      "properties": {
        "provisioningState": "Succeeded",
        "resourceGuid": "2d81d320-e399-4e2f-9890-8789046d634c",
        "ipConfigurations": [
          {
            "name": "ipconfig1",
            "etag": "W/\"1da47eeb-d4fa-4414-bcdc-eb514e98a1e4\"",
            "properties": {
              "provisioningState": "Succeeded",
              "privateIPAddress": "10.0.0.5",
              "privateIPAllocationMethod": "Dynamic",
              "subnet": {
                "id": "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_Template-deployment_vnet_name'), parameters('subnets_default_name'))]"
              },
              "primary": true,
              "privateIPAddressVersion": "IPv4"
            }
          }
        ],
        "dnsSettings": {
          "dnsServers": [
            "10.0.0.7"
          ],
          "appliedDnsServers": [
            "10.0.0.7"
          ],
          "internalDomainNameSuffix": "ntcl2hkhih5uhgos42iz3us1wh.ax.internal.cloudapp.net"
        },
        "macAddress": "00-0D-3A-2F-F4-A4",
        "enableAcceleratedNetworking": false,
        "enableIPForwarding": false,
        "networkSecurityGroup": {
          "id": "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_IPA_Worker_nsg_name'))]"
        },
        "primary": true,
        "tapConfigurations": []
      },
      "dependsOn": [
        "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_Template-deployment_vnet_name'), parameters('subnets_default_name'))]",
        "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_IPA_Worker_nsg_name'))]"
      ]
    },
    {
      "type": "Microsoft.Network/networkSecurityGroups",
      "name": "[parameters('networkSecurityGroups_IPA_AD_nsg_name')]",
      "apiVersion": "2018-12-01",
      "location": "westeurope",
      "tags": {},
      "properties": {
        "provisioningState": "Succeeded",
        "resourceGuid": "95e74e57-bf99-4d4e-a0f1-8267e21413c9",
        "securityRules": [
          {
            "name": "RDP",
            "etag": "W/\"5132fe77-1279-4f96-9ab9-2a2a913168bc\"",
            "properties": {
              "provisioningState": "Succeeded",
              "protocol": "TCP",
              "sourcePortRange": "*",
              "destinationPortRange": "3389",
              "sourceAddressPrefix": "*",
              "destinationAddressPrefix": "*",
              "access": "Allow",
              "priority": 300,
              "direction": "Inbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          }
        ],
        "defaultSecurityRules": [
          {
            "name": "AllowVnetInBound",
            "etag": "W/\"5132fe77-1279-4f96-9ab9-2a2a913168bc\"",
            "properties": {
              "provisioningState": "Succeeded",
              "description": "Allow inbound traffic from all VMs in VNET",
              "protocol": "*",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "VirtualNetwork",
              "destinationAddressPrefix": "VirtualNetwork",
              "access": "Allow",
              "priority": 65000,
              "direction": "Inbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          },
          {
            "name": "AllowAzureLoadBalancerInBound",
            "etag": "W/\"5132fe77-1279-4f96-9ab9-2a2a913168bc\"",
            "properties": {
              "provisioningState": "Succeeded",
              "description": "Allow inbound traffic from azure load balancer",
              "protocol": "*",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "AzureLoadBalancer",
              "destinationAddressPrefix": "*",
              "access": "Allow",
              "priority": 65001,
              "direction": "Inbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          },
          {
            "name": "DenyAllInBound",
            "etag": "W/\"5132fe77-1279-4f96-9ab9-2a2a913168bc\"",
            "properties": {
              "provisioningState": "Succeeded",
              "description": "Deny all inbound traffic",
              "protocol": "*",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "*",
              "destinationAddressPrefix": "*",
              "access": "Deny",
              "priority": 65500,
              "direction": "Inbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          },
          {
            "name": "AllowVnetOutBound",
            "etag": "W/\"5132fe77-1279-4f96-9ab9-2a2a913168bc\"",
            "properties": {
              "provisioningState": "Succeeded",
              "description": "Allow outbound traffic from all VMs to all VMs in VNET",
              "protocol": "*",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
             "sourceAddressPrefix": "VirtualNetwork",
              "destinationAddressPrefix": "VirtualNetwork",
              "access": "Allow",
              "priority": 65000,
              "direction": "Outbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          },
          {
            "name": "AllowInternetOutBound",
            "etag": "W/\"5132fe77-1279-4f96-9ab9-2a2a913168bc\"",
            "properties": {
              "provisioningState": "Succeeded",
              "description": "Allow outbound traffic from all VMs to Internet",
              "protocol": "*",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "*",
              "destinationAddressPrefix": "Internet",
              "access": "Allow",
              "priority": 65001,
              "direction": "Outbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          },
          {
            "name": "DenyAllOutBound",
            "etag": "W/\"5132fe77-1279-4f96-9ab9-2a2a913168bc\"",
            "properties": {
              "provisioningState": "Succeeded",
              "description": "Deny all outbound traffic",
              "protocol": "*",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "*",
              "destinationAddressPrefix": "*",
              "access": "Deny",
              "priority": 65500,
              "direction": "Outbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          }
        ]
      },
      "dependsOn": []
    },
    {
      "type": "Microsoft.Network/networkSecurityGroups",
      "name": "[parameters('networkSecurityGroups_IPA_CRM_nsg_name')]",
      "apiVersion": "2018-12-01",
      "location": "westeurope",
      "tags": {},
      "properties": {
        "provisioningState": "Succeeded",
        "resourceGuid": "6fd8c2b8-0677-4311-9b0c-8f3f883bca5e",
       "securityRules": [],
        "defaultSecurityRules": [
          {
            "name": "AllowVnetInBound",
            "etag": "W/\"4dc49d1f-a1dc-4546-8e1f-663eb9e1a234\"",
            "properties": {
              "provisioningState": "Succeeded",
              "description": "Allow inbound traffic from all VMs in VNET",
              "protocol": "*",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "VirtualNetwork",
              "destinationAddressPrefix": "VirtualNetwork",
              "access": "Allow",
              "priority": 65000,
              "direction": "Inbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          },
          {
            "name": "AllowAzureLoadBalancerInBound",
            "etag": "W/\"4dc49d1f-a1dc-4546-8e1f-663eb9e1a234\"",
            "properties": {
              "provisioningState": "Succeeded",
              "description": "Allow inbound traffic from azure load balancer",
              "protocol": "*",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "AzureLoadBalancer",
              "destinationAddressPrefix": "*",
              "access": "Allow",
              "priority": 65001,
              "direction": "Inbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          },
          {
            "name": "DenyAllInBound",
            "etag": "W/\"4dc49d1f-a1dc-4546-8e1f-663eb9e1a234\"",
            "properties": {
              "provisioningState": "Succeeded",
              "description": "Deny all inbound traffic",
              "protocol": "*",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "*",
              "destinationAddressPrefix": "*",
              "access": "Deny",
              "priority": 65500,
              "direction": "Inbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          },
          {
            "name": "AllowVnetOutBound",
            "etag": "W/\"4dc49d1f-a1dc-4546-8e1f-663eb9e1a234\"",
            "properties": {
              "provisioningState": "Succeeded",
              "description": "Allow outbound traffic from all VMs to all VMs in VNET",
              "protocol": "*",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "VirtualNetwork",
              "destinationAddressPrefix": "VirtualNetwork",
              "access": "Allow",
              "priority": 65000,
              "direction": "Outbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          },
          {
            "name": "AllowInternetOutBound",
            "etag": "W/\"4dc49d1f-a1dc-4546-8e1f-663eb9e1a234\"",
            "properties": {
              "provisioningState": "Succeeded",
              "description": "Allow outbound traffic from all VMs to Internet",
              "protocol": "*",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "*",
              "destinationAddressPrefix": "Internet",
              "access": "Allow",
              "priority": 65001,
              "direction": "Outbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          },
          {
            "name": "DenyAllOutBound",
            "etag": "W/\"4dc49d1f-a1dc-4546-8e1f-663eb9e1a234\"",
            "properties": {
              "provisioningState": "Succeeded",
              "description": "Deny all outbound traffic",
              "protocol": "*",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "*",
              "destinationAddressPrefix": "*",
              "access": "Deny",
              "priority": 65500,
              "direction": "Outbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          }
        ]
      },
      "dependsOn": []
    },
    {
      "type": "Microsoft.Network/networkSecurityGroups",
      "name": "[parameters('networkSecurityGroups_IPA_FE_nsg_name')]",
      "apiVersion": "2018-12-01",
      "location": "westeurope",
      "tags": {},
      "properties": {
        "provisioningState": "Succeeded",
        "resourceGuid": "65a111dc-e649-492e-8b73-baa5af318360",
        "securityRules": [
          {
            "name": "RDP",
            "etag": "W/\"4ac3cb4f-b1d4-45d3-b948-de891120943e\"",
            "properties": {
              "provisioningState": "Succeeded",
              "protocol": "TCP",
              "sourcePortRange": "*",
              "destinationPortRange": "3389",
              "sourceAddressPrefix": "*",
              "destinationAddressPrefix": "*",
              "access": "Allow",
              "priority": 300,
              "direction": "Inbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          },
          {
            "name": "HTTPS",
            "etag": "W/\"4ac3cb4f-b1d4-45d3-b948-de891120943e\"",
            "properties": {
              "provisioningState": "Succeeded",
              "protocol": "TCP",
              "sourcePortRange": "*",
              "destinationPortRange": "443",
              "sourceAddressPrefix": "*",
              "destinationAddressPrefix": "*",
              "access": "Allow",
              "priority": 320,
              "direction": "Inbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          },
          {
            "name": "SSH",
            "etag": "W/\"4ac3cb4f-b1d4-45d3-b948-de891120943e\"",
            "properties": {
              "provisioningState": "Succeeded",
              "protocol": "TCP",
             "sourcePortRange": "*",
              "destinationPortRange": "22",
              "sourceAddressPrefix": "*",
              "destinationAddressPrefix": "*",
              "access": "Allow",
              "priority": 340,
              "direction": "Inbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          },
          {
            "name": "HTTP",
            "etag": "W/\"4ac3cb4f-b1d4-45d3-b948-de891120943e\"",
            "properties": {
              "provisioningState": "Succeeded",
              "protocol": "TCP",
              "sourcePortRange": "*",
              "destinationPortRange": "80",
              "sourceAddressPrefix": "*",
              "destinationAddressPrefix": "*",
              "access": "Allow",
              "priority": 360,
              "direction": "Inbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          }
        ],
        "defaultSecurityRules": [
          {
            "name": "AllowVnetInBound",
            "etag": "W/\"4ac3cb4f-b1d4-45d3-b948-de891120943e\"",
            "properties": {
              "provisioningState": "Succeeded",
              "description": "Allow inbound traffic from all VMs in VNET",
              "protocol": "*",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "VirtualNetwork",
              "destinationAddressPrefix": "VirtualNetwork",
              "access": "Allow",
              "priority": 65000,
              "direction": "Inbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          },
          {
            "name": "AllowAzureLoadBalancerInBound",
            "etag": "W/\"4ac3cb4f-b1d4-45d3-b948-de891120943e\"",
            "properties": {
              "provisioningState": "Succeeded",
              "description": "Allow inbound traffic from azure load balancer",
              "protocol": "*",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "AzureLoadBalancer",
              "destinationAddressPrefix": "*",
              "access": "Allow",
              "priority": 65001,
              "direction": "Inbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          },
          {
            "name": "DenyAllInBound",
            "etag": "W/\"4ac3cb4f-b1d4-45d3-b948-de891120943e\"",
            "properties": {
              "provisioningState": "Succeeded",
              "description": "Deny all inbound traffic",
              "protocol": "*",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "*",
              "destinationAddressPrefix": "*",
              "access": "Deny",
              "priority": 65500,
              "direction": "Inbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          },
          {
            "name": "AllowVnetOutBound",
            "etag": "W/\"4ac3cb4f-b1d4-45d3-b948-de891120943e\"",
            "properties": {
              "provisioningState": "Succeeded",
              "description": "Allow outbound traffic from all VMs to all VMs in VNET",
              "protocol": "*",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "VirtualNetwork",
              "destinationAddressPrefix": "VirtualNetwork",
              "access": "Allow",
              "priority": 65000,
              "direction": "Outbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          },
          {
            "name": "AllowInternetOutBound",
            "etag": "W/\"4ac3cb4f-b1d4-45d3-b948-de891120943e\"",
            "properties": {
              "provisioningState": "Succeeded",
              "description": "Allow outbound traffic from all VMs to Internet",
              "protocol": "*",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "*",
              "destinationAddressPrefix": "Internet",
              "access": "Allow",
              "priority": 65001,
              "direction": "Outbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          },
          {
            "name": "DenyAllOutBound",
            "etag": "W/\"4ac3cb4f-b1d4-45d3-b948-de891120943e\"",
            "properties": {
              "provisioningState": "Succeeded",
              "description": "Deny all outbound traffic",
              "protocol": "*",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "*",
              "destinationAddressPrefix": "*",
              "access": "Deny",
              "priority": 65500,
              "direction": "Outbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          }
        ]
      },
      "dependsOn": []
    },
    {
      "type": "Microsoft.Network/networkSecurityGroups",
      "name": "[parameters('networkSecurityGroups_IPA_Rabbitmq_nsg_name')]",
      "apiVersion": "2018-12-01",
      "location": "westeurope",
      "tags": {},
      "properties": {
        "provisioningState": "Succeeded",
        "resourceGuid": "87d190a1-1da9-4e56-97ba-c5e45fc02c46",
        "securityRules": [],
        "defaultSecurityRules": [
          {
            "name": "AllowVnetInBound",
            "etag": "W/\"c515d4c1-f15c-47e9-ad7d-d0ee8e1b5058\"",
            "properties": {
              "provisioningState": "Succeeded",
              "description": "Allow inbound traffic from all VMs in VNET",
              "protocol": "*",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "VirtualNetwork",
              "destinationAddressPrefix": "VirtualNetwork",
              "access": "Allow",
              "priority": 65000,
              "direction": "Inbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          },
          {
            "name": "AllowAzureLoadBalancerInBound",
            "etag": "W/\"c515d4c1-f15c-47e9-ad7d-d0ee8e1b5058\"",
            "properties": {
              "provisioningState": "Succeeded",
              "description": "Allow inbound traffic from azure load balancer",
              "protocol": "*",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "AzureLoadBalancer",
              "destinationAddressPrefix": "*",
              "access": "Allow",
              "priority": 65001,
              "direction": "Inbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          },
          {
            "name": "DenyAllInBound",
            "etag": "W/\"c515d4c1-f15c-47e9-ad7d-d0ee8e1b5058\"",
            "properties": {
              "provisioningState": "Succeeded",
              "description": "Deny all inbound traffic",
              "protocol": "*",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "*",
              "destinationAddressPrefix": "*",
              "access": "Deny",
              "priority": 65500,
              "direction": "Inbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          },
          {
            "name": "AllowVnetOutBound",
            "etag": "W/\"c515d4c1-f15c-47e9-ad7d-d0ee8e1b5058\"",
            "properties": {
              "provisioningState": "Succeeded",
              "description": "Allow outbound traffic from all VMs to all VMs in VNET",
              "protocol": "*",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "VirtualNetwork",
              "destinationAddressPrefix": "VirtualNetwork",
              "access": "Allow",
              "priority": 65000,
              "direction": "Outbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          },
          {
            "name": "AllowInternetOutBound",
            "etag": "W/\"c515d4c1-f15c-47e9-ad7d-d0ee8e1b5058\"",
            "properties": {
              "provisioningState": "Succeeded",
              "description": "Allow outbound traffic from all VMs to Internet",
              "protocol": "*",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "*",
              "destinationAddressPrefix": "Internet",
              "access": "Allow",
              "priority": 65001,
              "direction": "Outbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          },
          {
            "name": "DenyAllOutBound",
            "etag": "W/\"c515d4c1-f15c-47e9-ad7d-d0ee8e1b5058\"",
            "properties": {
              "provisioningState": "Succeeded",
              "description": "Deny all outbound traffic",
              "protocol": "*",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "*",
              "destinationAddressPrefix": "*",
              "access": "Deny",
              "priority": 65500,
              "direction": "Outbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          }
        ]
      },
      "dependsOn": []
    },
    {
      "type": "Microsoft.Network/networkSecurityGroups",
      "name": "[parameters('networkSecurityGroups_IPA_SQL_nsg_name')]",
      "apiVersion": "2018-12-01",
      "location": "westeurope",
      "properties": {
        "provisioningState": "Succeeded",
        "resourceGuid": "8c4018e1-eae4-4706-8c57-b9bcf0a7b24b",
        "securityRules": [
          {
            "name": "Allow-Internal-traffic",
            "etag": "W/\"4ab95468-d2e5-45e8-9602-c5ef97512086\"",
            "properties": {
              "provisioningState": "Succeeded",
              "protocol": "*",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "10.0.0.0/24",
              "destinationAddressPrefix": "*",
              "access": "Allow",
              "priority": 100,
              "direction": "Inbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          }
        ],
        "defaultSecurityRules": [
          {
            "name": "AllowVnetInBound",
            "etag": "W/\"4ab95468-d2e5-45e8-9602-c5ef97512086\"",
            "properties": {
              "provisioningState": "Succeeded",
              "description": "Allow inbound traffic from all VMs in VNET",
              "protocol": "*",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "VirtualNetwork",
              "destinationAddressPrefix": "VirtualNetwork",
              "access": "Allow",
              "priority": 65000,
              "direction": "Inbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          },
          {
            "name": "AllowAzureLoadBalancerInBound",
            "etag": "W/\"4ab95468-d2e5-45e8-9602-c5ef97512086\"",
            "properties": {
              "provisioningState": "Succeeded",
              "description": "Allow inbound traffic from azure load balancer",
              "protocol": "*",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "AzureLoadBalancer",
              "destinationAddressPrefix": "*",
              "access": "Allow",
              "priority": 65001,
              "direction": "Inbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          },
          {
            "name": "DenyAllInBound",
            "etag": "W/\"4ab95468-d2e5-45e8-9602-c5ef97512086\"",
            "properties": {
              "provisioningState": "Succeeded",
              "description": "Deny all inbound traffic",
              "protocol": "*",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "*",
              "destinationAddressPrefix": "*",
              "access": "Deny",
              "priority": 65500,
              "direction": "Inbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          },
          {
            "name": "AllowVnetOutBound",
            "etag": "W/\"4ab95468-d2e5-45e8-9602-c5ef97512086\"",
            "properties": {
              "provisioningState": "Succeeded",
              "description": "Allow outbound traffic from all VMs to all VMs in VNET",
              "protocol": "*",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "VirtualNetwork",
              "destinationAddressPrefix": "VirtualNetwork",
              "access": "Allow",
              "priority": 65000,
              "direction": "Outbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          },
          {
            "name": "AllowInternetOutBound",
            "etag": "W/\"4ab95468-d2e5-45e8-9602-c5ef97512086\"",
            "properties": {
              "provisioningState": "Succeeded",
              "description": "Allow outbound traffic from all VMs to Internet",
              "protocol": "*",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "*",
              "destinationAddressPrefix": "Internet",
              "access": "Allow",
              "priority": 65001,
              "direction": "Outbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          },
          {
            "name": "DenyAllOutBound",
            "etag": "W/\"4ab95468-d2e5-45e8-9602-c5ef97512086\"",
            "properties": {
              "provisioningState": "Succeeded",
              "description": "Deny all outbound traffic",
              "protocol": "*",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "*",
              "destinationAddressPrefix": "*",
              "access": "Deny",
              "priority": 65500,
              "direction": "Outbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          }
        ]
      },
      "dependsOn": []
    },
    {
      "type": "Microsoft.Network/networkSecurityGroups",
      "name": "[parameters('networkSecurityGroups_IPA_Worker_nsg_name')]",
      "apiVersion": "2018-12-01",
      "location": "westeurope",
      "tags": {},
      "properties": {
        "provisioningState": "Succeeded",
        "resourceGuid": "4264ef5e-6475-45cd-a512-945d294a7c4a",
        "securityRules": [
          {
            "name": "HTTP",
            "etag": "W/\"d98552fd-2974-484a-8fbf-988947e9b754\"",
            "properties": {
              "provisioningState": "Succeeded",
              "protocol": "TCP",
              "sourcePortRange": "*",
              "destinationPortRange": "80",
              "sourceAddressPrefix": "*",
              "destinationAddressPrefix": "*",
              "access": "Allow",
              "priority": 300,
              "direction": "Inbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          },
          {
            "name": "HTTPS",
            "etag": "W/\"d98552fd-2974-484a-8fbf-988947e9b754\"",
            "properties": {
              "provisioningState": "Succeeded",
              "protocol": "TCP",
              "sourcePortRange": "*",
              "destinationPortRange": "443",
              "sourceAddressPrefix": "*",
              "destinationAddressPrefix": "*",
              "access": "Allow",
              "priority": 320,
              "direction": "Inbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          },
          {
            "name": "SSH",
            "etag": "W/\"d98552fd-2974-484a-8fbf-988947e9b754\"",
            "properties": {
              "provisioningState": "Succeeded",
              "protocol": "TCP",
              "sourcePortRange": "*",
              "destinationPortRange": "22",
              "sourceAddressPrefix": "*",
              "destinationAddressPrefix": "*",
              "access": "Allow",
              "priority": 340,
              "direction": "Inbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          },
          {
            "name": "RDP",
            "etag": "W/\"d98552fd-2974-484a-8fbf-988947e9b754\"",
            "properties": {
              "provisioningState": "Succeeded",
              "protocol": "TCP",
              "sourcePortRange": "*",
              "destinationPortRange": "3389",
              "sourceAddressPrefix": "*",
              "destinationAddressPrefix": "*",
              "access": "Allow",
              "priority": 360,
              "direction": "Inbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          }
        ],
        "defaultSecurityRules": [
          {
            "name": "AllowVnetInBound",
            "etag": "W/\"d98552fd-2974-484a-8fbf-988947e9b754\"",
            "properties": {
              "provisioningState": "Succeeded",
              "description": "Allow inbound traffic from all VMs in VNET",
              "protocol": "*",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "VirtualNetwork",
              "destinationAddressPrefix": "VirtualNetwork",
              "access": "Allow",
              "priority": 65000,
              "direction": "Inbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          },
          {
            "name": "AllowAzureLoadBalancerInBound",
            "etag": "W/\"d98552fd-2974-484a-8fbf-988947e9b754\"",
            "properties": {
              "provisioningState": "Succeeded",
              "description": "Allow inbound traffic from azure load balancer",
              "protocol": "*",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "AzureLoadBalancer",
              "destinationAddressPrefix": "*",
              "access": "Allow",
              "priority": 65001,
              "direction": "Inbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          },
          {
            "name": "DenyAllInBound",
            "etag": "W/\"d98552fd-2974-484a-8fbf-988947e9b754\"",
            "properties": {
              "provisioningState": "Succeeded",
              "description": "Deny all inbound traffic",
              "protocol": "*",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "*",
              "destinationAddressPrefix": "*",
              "access": "Deny",
              "priority": 65500,
              "direction": "Inbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          },
          {
            "name": "AllowVnetOutBound",
            "etag": "W/\"d98552fd-2974-484a-8fbf-988947e9b754\"",
            "properties": {
              "provisioningState": "Succeeded",
              "description": "Allow outbound traffic from all VMs to all VMs in VNET",
              "protocol": "*",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "VirtualNetwork",
              "destinationAddressPrefix": "VirtualNetwork",
              "access": "Allow",
              "priority": 65000,
              "direction": "Outbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          },
          {
            "name": "AllowInternetOutBound",
            "etag": "W/\"d98552fd-2974-484a-8fbf-988947e9b754\"",
            "properties": {
              "provisioningState": "Succeeded",
              "description": "Allow outbound traffic from all VMs to Internet",
              "protocol": "*",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "*",
              "destinationAddressPrefix": "Internet",
              "access": "Allow",
              "priority": 65001,
              "direction": "Outbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          },
          {
            "name": "DenyAllOutBound",
            "etag": "W/\"d98552fd-2974-484a-8fbf-988947e9b754\"",
            "properties": {
              "provisioningState": "Succeeded",
              "description": "Deny all outbound traffic",
              "protocol": "*",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "*",
              "destinationAddressPrefix": "*",
              "access": "Deny",
              "priority": 65500,
              "direction": "Outbound",
              "sourcePortRanges": [],
              "destinationPortRanges": [],
              "sourceAddressPrefixes": [],
              "destinationAddressPrefixes": []
            }
          }
        ]
      },
      "dependsOn": []
    },
    {
      "type": "Microsoft.Network/publicIPAddresses",
      "sku": {
        "name": "Basic",
        "tier": "Regional"
      },
      "name": "[parameters('publicIPAddresses_IPA_CRM_ip_name')]",
      "apiVersion": "2018-12-01",
      "location": "westeurope",
      "tags": {},
      "properties": {
        "provisioningState": "Succeeded",
        "resourceGuid": "ded0492c-19ae-4cfd-8075-e2adbd875507",
        "ipAddress": "23.97.253.241",
        "publicIPAddressVersion": "IPv4",
        "publicIPAllocationMethod": "Static",
        "idleTimeoutInMinutes": 4,
        "ipTags": []
      },
      "dependsOn": []
    },
    {
      "type": "Microsoft.Network/publicIPAddresses",
      "sku": {
        "name": "Basic",
        "tier": "Regional"
      },
      "name": "[parameters('publicIPAddresses_IPA_FE_ip_name')]",
      "apiVersion": "2018-12-01",
      "location": "westeurope",
      "tags": {},
      "properties": {
        "provisioningState": "Succeeded",
        "resourceGuid": "6e352c4c-fafc-4366-910e-452beee9013f",
        "ipAddress": "52.233.197.12",
        "publicIPAddressVersion": "IPv4",
        "publicIPAllocationMethod": "Static",
        "idleTimeoutInMinutes": 4,
        "ipTags": []
      },
      "dependsOn": []
    },
    {
      "type": "Microsoft.Network/virtualNetworks",
      "name": "[parameters('virtualNetworks_Template-deployment_vnet_name')]",
      "apiVersion": "2018-12-01",
      "location": "westeurope",
      "tags": {},
      "properties": {
        "provisioningState": "Succeeded",
        "resourceGuid": "1dbec46c-4147-43ff-99d2-f7119ed25bb7",
        "addressSpace": {
          "addressPrefixes": [
            "10.0.0.0/24"
          ]
        },
        "subnets": [
          {
            "name": "default",
            "etag": "W/\"9e596819-d373-431c-b99d-ac2a13985226\"",
            "properties": {
              "provisioningState": "Succeeded",
              "addressPrefix": "10.0.0.0/24",
              "delegations": []
            }
          }
        ],
        "virtualNetworkPeerings": [],
        "enableDdosProtection": false,
        "enableVmProtection": false
      },
      "dependsOn": []
    },
    {
      "type": "Microsoft.Storage/storageAccounts",
      "sku": {
        "name": "Standard_LRS",
        "tier": "Standard"
      },
      "kind": "Storage",
      "name": "[parameters('storageAccounts_automateddeploymentforle_name')]",
      "apiVersion": "2018-07-01",
      "location": "westeurope",
      "tags": {},
      "properties": {
        "networkAcls": {
          "bypass": "AzureServices",
          "virtualNetworkRules": [],
          "ipRules": [],
          "defaultAction": "Allow"
        },
        "supportsHttpsTrafficOnly": false,
        "encryption": {
          "services": {
            "file": {
              "enabled": true
            },
            "blob": {
              "enabled": true
            }
          },
          "keySource": "Microsoft.Storage"
        }
      },
      "dependsOn": []
    },
    {
      "type": "Microsoft.Storage/storageAccounts",
      "sku": {
        "name": "Standard_LRS",
        "tier": "Standard"
      },
      "kind": "Storage",
      "name": "[parameters('storageAccounts_automateddeploymentfo573_name')]",
      "apiVersion": "2018-07-01",
      "location": "westeurope",
      "tags": {},
      "properties": {
        "networkAcls": {
          "bypass": "AzureServices",
          "virtualNetworkRules": [],
          "ipRules": [],
          "defaultAction": "Allow"
        },
        "supportsHttpsTrafficOnly": false,
        "encryption": {
          "services": {
            "file": {
              "enabled": true
            },
            "blob": {
              "enabled": true
            }
          },
          "keySource": "Microsoft.Storage"
        }
      },
      "dependsOn": []
    },
    {
      "type": "Microsoft.Network/networkSecurityGroups/securityRules",
      "name": "[concat(parameters('networkSecurityGroups_IPA_AD_nsg_name'), '/', parameters('securityRules_RDP_name'))]",
      "apiVersion": "2018-12-01",
      "properties": {
        "provisioningState": "Succeeded",
        "protocol": "TCP",
        "sourcePortRange": "*",
        "destinationPortRange": "3389",
        "sourceAddressPrefix": "*",
        "destinationAddressPrefix": "*",
        "access": "Allow",
        "priority": 300,
        "direction": "Inbound",
        "sourcePortRanges": [],
        "destinationPortRanges": [],
        "sourceAddressPrefixes": [],
        "destinationAddressPrefixes": []
      },
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_IPA_AD_nsg_name'))]"
      ]
    },
    {
      "type": "Microsoft.Network/networkSecurityGroups/securityRules",
      "name": "[concat(parameters('networkSecurityGroups_IPA_FE_nsg_name'), '/', parameters('securityRules_RDP_name_1'))]",
      "apiVersion": "2018-12-01",
      "properties": {
        "provisioningState": "Succeeded",
        "protocol": "TCP",
        "sourcePortRange": "*",
        "destinationPortRange": "3389",
        "sourceAddressPrefix": "*",
        "destinationAddressPrefix": "*",
        "access": "Allow",
        "priority": 300,
        "direction": "Inbound",
        "sourcePortRanges": [],
        "destinationPortRanges": [],
        "sourceAddressPrefixes": [],
        "destinationAddressPrefixes": []
      },
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_IPA_FE_nsg_name'))]"
      ]
    },
    {
      "type": "Microsoft.Network/networkSecurityGroups/securityRules",
      "name": "[concat(parameters('networkSecurityGroups_IPA_FE_nsg_name'), '/', parameters('securityRules_HTTPS_name'))]",
      "apiVersion": "2018-12-01",
      "properties": {
        "provisioningState": "Succeeded",
        "protocol": "TCP",
        "sourcePortRange": "*",
        "destinationPortRange": "443",
        "sourceAddressPrefix": "*",
        "destinationAddressPrefix": "*",
        "access": "Allow",
        "priority": 320,
        "direction": "Inbound",
        "sourcePortRanges": [],
        "destinationPortRanges": [],
        "sourceAddressPrefixes": [],
        "destinationAddressPrefixes": []
      },
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_IPA_FE_nsg_name'))]"
      ]
    },
    {
      "type": "Microsoft.Network/networkSecurityGroups/securityRules",
      "name": "[concat(parameters('networkSecurityGroups_IPA_FE_nsg_name'), '/', parameters('securityRules_SSH_name'))]",
      "apiVersion": "2018-12-01",
      "properties": {
        "provisioningState": "Succeeded",
        "protocol": "TCP",
        "sourcePortRange": "*",
        "destinationPortRange": "22",
        "sourceAddressPrefix": "*",
        "destinationAddressPrefix": "*",
        "access": "Allow",
        "priority": 340,
        "direction": "Inbound",
        "sourcePortRanges": [],
        "destinationPortRanges": [],
        "sourceAddressPrefixes": [],
        "destinationAddressPrefixes": []
      },
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_IPA_FE_nsg_name'))]"
      ]
    },
    {
      "type": "Microsoft.Network/networkSecurityGroups/securityRules",
      "name": "[concat(parameters('networkSecurityGroups_IPA_FE_nsg_name'), '/', parameters('securityRules_HTTP_name'))]",
      "apiVersion": "2018-12-01",
      "properties": {
        "provisioningState": "Succeeded",
        "protocol": "TCP",
        "sourcePortRange": "*",
        "destinationPortRange": "80",
        "sourceAddressPrefix": "*",
        "destinationAddressPrefix": "*",
        "access": "Allow",
        "priority": 360,
        "direction": "Inbound",
        "sourcePortRanges": [],
        "destinationPortRanges": [],
        "sourceAddressPrefixes": [],
        "destinationAddressPrefixes": []
      },
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_IPA_FE_nsg_name'))]"
      ]
    },
    {
      "type": "Microsoft.Network/networkSecurityGroups/securityRules",
      "name": "[concat(parameters('networkSecurityGroups_IPA_SQL_nsg_name'), '/', parameters('securityRules_Allow_Internal_traffic_name'))]",
      "apiVersion": "2018-12-01",
      "properties": {
        "provisioningState": "Succeeded",
        "protocol": "*",
        "sourcePortRange": "*",
        "destinationPortRange": "*",
        "sourceAddressPrefix": "10.0.0.0/24",
        "destinationAddressPrefix": "*",
        "access": "Allow",
        "priority": 100,
        "direction": "Inbound",
        "sourcePortRanges": [],
        "destinationPortRanges": [],
        "sourceAddressPrefixes": [],
        "destinationAddressPrefixes": []
      },
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_IPA_SQL_nsg_name'))]"
      ]
    },
    {
      "type": "Microsoft.Network/networkSecurityGroups/securityRules",
      "name": "[concat(parameters('networkSecurityGroups_IPA_Worker_nsg_name'), '/', parameters('securityRules_HTTP_name_1'))]",
      "apiVersion": "2018-12-01",
      "properties": {
        "provisioningState": "Succeeded",
        "protocol": "TCP",
        "sourcePortRange": "*",
        "destinationPortRange": "80",
        "sourceAddressPrefix": "*",
        "destinationAddressPrefix": "*",
        "access": "Allow",
        "priority": 300,
        "direction": "Inbound",
        "sourcePortRanges": [],
        "destinationPortRanges": [],
        "sourceAddressPrefixes": [],
        "destinationAddressPrefixes": []
      },
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_IPA_Worker_nsg_name'))]"
      ]
    },
    {
      "type": "Microsoft.Network/networkSecurityGroups/securityRules",
      "name": "[concat(parameters('networkSecurityGroups_IPA_Worker_nsg_name'), '/', parameters('securityRules_HTTPS_name_1'))]",
      "apiVersion": "2018-12-01",
      "properties": {
        "provisioningState": "Succeeded",
        "protocol": "TCP",
       "sourcePortRange": "*",
        "destinationPortRange": "443",
        "sourceAddressPrefix": "*",
        "destinationAddressPrefix": "*",
        "access": "Allow",
        "priority": 320,
        "direction": "Inbound",
        "sourcePortRanges": [],
        "destinationPortRanges": [],
        "sourceAddressPrefixes": [],
        "destinationAddressPrefixes": []
      },
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_IPA_Worker_nsg_name'))]"
      ]
    },
    {
      "type": "Microsoft.Network/networkSecurityGroups/securityRules",
      "name": "[concat(parameters('networkSecurityGroups_IPA_Worker_nsg_name'), '/', parameters('securityRules_SSH_name_1'))]",
      "apiVersion": "2018-12-01",
      "properties": {
        "provisioningState": "Succeeded",
        "protocol": "TCP",
        "sourcePortRange": "*",
        "destinationPortRange": "22",
        "sourceAddressPrefix": "*",
        "destinationAddressPrefix": "*",
        "access": "Allow",
        "priority": 340,
        "direction": "Inbound",
        "sourcePortRanges": [],
        "destinationPortRanges": [],
        "sourceAddressPrefixes": [],
        "destinationAddressPrefixes": []
      },
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_IPA_Worker_nsg_name'))]"
      ]
    },
    {
      "type": "Microsoft.Network/networkSecurityGroups/securityRules",
      "name": "[concat(parameters('networkSecurityGroups_IPA_Worker_nsg_name'), '/', parameters('securityRules_RDP_name_2'))]",
      "apiVersion": "2018-12-01",
      "properties": {
        "access": "Allow",
        "destinationAddressPrefix": "*",
        "destinationAddressPrefixes": [],
        "destinationPortRange": "3389",
        "destinationPortRanges": [],
        "direction": "Inbound",
        "priority": 360,
        "protocol": "TCP",
        "provisioningState": "Succeeded",
        "sourceAddressPrefix": "*",
        "sourceAddressPrefixes": [],
        "sourcePortRange": "*",
        "sourcePortRanges": []
      },
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_IPA_Worker_nsg_name'))]"
      ]
    },
    {
      "type": "Microsoft.Network/virtualNetworks/subnets",
      "name": "[concat(parameters('virtualNetworks_Template-deployment_vnet_name'), '/', parameters('subnets_default_name'))]",
      "apiVersion": "2018-12-01",
      "properties": {
        "provisioningState": "Succeeded",
        "addressPrefix": "10.0.0.0/24",
        "delegations": []
      },
      "dependsOn": [
        "[resourceId('Microsoft.Network/virtualNetworks', parameters('virtualNetworks_Template-deployment_vnet_name'))]"
      ]
    }
  ]
}
